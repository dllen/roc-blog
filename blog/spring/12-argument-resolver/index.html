<!doctype html><html class=scroll-smooth lang=en><head><meta charset=utf-8><link href=/css/style.css rel=stylesheet><link href=/line-awesome/css/line-awesome.min.css rel=stylesheet><script defer src=/js/main.js></script><title>Spring 源码阅读：12. 参数解析与返回值处理 | 码农的自留地</title><body class="bg-white dark:bg-slate-900 transition ease-in-out"><section><div class="sticky top-0 bg-slate-100 dark:bg-slate-800"><div class="container mx-auto px-auto xl:px-0 w-full xl:w-1/2 flex place-content-between py-16 xl:py-8 font-sans text-6xl xl:text-2xl text-slate-900 dark:text-slate-300"><div class=flex><a class="m-0 p-0 text-slate-900 hover:text-slate-700 dark:text-slate-300 dark:hover:text-slate-200" href=/blog/> /blog </a><a class="m-0 p-0 text-slate-900 hover:text-slate-700 dark:text-slate-300 dark:hover:text-slate-200" href=/blog/spring/> /spring </a></div><div class="flex gap-4"><div class="hidden cursor-pointer" id=back-to-top><i class="las la-level-up-alt"></i></div><a href=/><i class="las la-home"></i></a><div class=cursor-pointer id=darkmode-toggle><div class="hidden dark:inline"><i class="las la-sun"></i></div><div class="inline dark:hidden"><i class="las la-moon"></i></div></div></div></div></div><div class="container mx-auto w-full xl:w-1/2 mb-16"><div class="mt-4 font-serif text-slate-600 dark:text-slate-500 text-4xl xl:text-base">2026-01-14</div><h1 class="w-full xl:w-2/3 mt-4 mb-8 font-serif text-8xl xl:text-4xl text-slate-900 dark:text-slate-300">Spring 源码阅读：12. 参数解析与返回值处理</h1><div class="mt-2 mb-6 flex flex-wrap gap-2"></div><div class="w-100 border-t mb-8 border-slate-300 dark:border-slate-700"></div><div class="prose dark:prose-invert prose-pre:rounded-none prose-headings:bg-amber-100 prose-headings:text-slate-800 dark:prose-headings:bg-indigo-900 prose-headings:font-normal dark:prose-headings:text-slate-300 prose-headings:p-2 prose-headings:w-max prose-headings:font-serif prose-2xl xl:prose-base"><p>Controller 的方法签名千变万化（<code>HttpServletRequest</code>, <code>@RequestParam</code>, <code>@RequestBody</code>, <code>User</code>…），Spring 是如何把 HTTP 请求参数绑定到这些方法参数上的？<h2 id=1-handlermethodargumentresolver>1. <code>HandlerMethodArgumentResolver</code></h2><p><code>RequestMappingHandlerAdapter</code> 维护了一个 <code>ArgumentResolver</code> 列表。 对于每一个参数，Spring 会遍历列表，调用 <code>supportsParameter()</code> 检查是否支持。<h3 id=1-1-chang-jian-shi-xian>1.1 常见实现</h3><ul><li><code>RequestParamMethodArgumentResolver</code>: 处理 <code>@RequestParam</code> 和简单类型。<li><code>RequestResponseBodyMethodProcessor</code>: 处理 <code>@RequestBody</code>。内部使用 <code>HttpMessageConverter</code> (如 Jackson) 进行 JSON 反序列化。<li><code>ServletRequestMethodArgumentResolver</code>: 处理 <code>HttpServletRequest</code>, <code>HttpSession</code>。</ul><h2 id=2-handlermethodreturnvaluehandler>2. <code>HandlerMethodReturnValueHandler</code></h2><p>处理 Controller 方法的返回值。<h3 id=2-1-chang-jian-shi-xian>2.1 常见实现</h3><ul><li><code>ViewNameMethodReturnValueHandler</code>: 返回 String (视图名称)。<li><code>RequestResponseBodyMethodProcessor</code>: 处理 <code>@ResponseBody</code>。内部使用 <code>HttpMessageConverter</code> 进行 JSON 序列化，并写入 Response。</ul><h2 id=3-she-ji-zhe-xue>3. 设计哲学</h2><p>这种基于接口的策略模式，使得 Spring MVC 具有极强的扩展性。你可以轻松自定义一个 <code>@CurrentUser</code> 注解，并写一个 Resolver 自动注入当前登录用户。<hr><p><strong>Next</strong>: <a href=../13-async-web/>Spring 源码阅读：13. 异步 Web 处理</a></div></div></section>