<svg xmlns="http://www.w3.org/2000/svg" width="1080" height="500" viewBox="0 0 1080 500">
  <style>
    .title { font: 700 20px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial; fill: #222; }
    .layer { fill: #F6FFF7; stroke: #2FA44F; stroke-width: 1.2; }
    .text { font: 12px -apple-system, BlinkMacSystemFont, Segoe UI, Roboto, Helvetica, Arial; fill: #333; }
    .arrow { stroke: #777; stroke-width: 1.5; marker-end: url(#ah); }
  </style>
  <defs><marker id="ah" markerWidth="8" markerHeight="6" refX="7" refY="3" orient="auto"><polygon points="0 0, 8 3, 0 6" fill="#777"/></marker></defs>
  <text x="20" y="30" class="title">库存分层架构：销售层→调度层→仓库层</text>

  <rect x="60" y="70" width="960" height="100" rx="10" class="layer"/>
  <text x="80" y="100" class="text">销售层：幂等动作、状态机、异常回滚；活动池优先</text>

  <rect x="60" y="200" width="960" height="100" rx="10" class="layer"/>
  <text x="80" y="230" class="text">调度层：分仓算法（距离/优先级/库存/活动）、规则引擎、黑白名单</text>

  <rect x="60" y="330" width="960" height="100" rx="10" class="layer"/>
  <text x="80" y="360" class="text">仓库层：WMS同步、增量回写、对账修复与审计</text>

  <line x1="540" y1="170" x2="540" y2="200" class="arrow"/>
  <line x1="540" y1="300" x2="540" y2="330" class="arrow"/>
</svg>